import{E,aC as P,F as v,x as S,A as T,M as b,aR as w,$ as p,B as L,aS as h,aT as C,W as y,aU as H,aV as R,aW as M}from"./index-Ck4zLN3I.js";function Q(){const n=E(!P.value);return n.value===!1&&v(()=>{n.value=!0}),{isHydrated:n}}const O=typeof ResizeObserver!="undefined",z=O===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},D=S({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(n,{emit:g}){let e=null,t,r={width:-1,height:-1};function c(i){i===!0||n.debounce===0||n.debounce==="0"?l():e===null&&(e=setTimeout(l,n.debounce))}function l(){if(e!==null&&(clearTimeout(e),e=null),t){const{offsetWidth:i,offsetHeight:o}=t;(i!==r.width||o!==r.height)&&(r={width:i,height:o},g("resize",r))}}const{proxy:d}=T();if(d.trigger=c,O===!0){let i;const o=u=>{t=d.$el.parentNode,t?(i=new ResizeObserver(c),i.observe(t),l()):u!==!0&&p(()=>{o(!0)})};return v(()=>{o()}),b(()=>{e!==null&&clearTimeout(e),i!==void 0&&(i.disconnect!==void 0?i.disconnect():t&&i.unobserve(t))}),w}else{let i=function(){e!==null&&(clearTimeout(e),e=null),s!==void 0&&(s.removeEventListener!==void 0&&s.removeEventListener("resize",c,h.passive),s=void 0)},o=function(){i(),t!=null&&t.contentDocument&&(s=t.contentDocument.defaultView,s.addEventListener("resize",c,h.passive),l())};const{isHydrated:u}=Q();let s;return v(()=>{p(()=>{t=d.$el,t&&o()})}),b(i),()=>{if(u.value===!0)return L("object",{class:"q--avoid-card-border",style:z.style,tabindex:-1,type:"text/html",data:z.url,"aria-hidden":"true",onLoad:o})}}}}),{passive:x}=h,V=["both","horizontal","vertical"],N=S({name:"QScrollObserver",props:{axis:{type:String,validator:n=>V.includes(n),default:"vertical"},debounce:[String,Number],scrollTarget:C},emits:["scroll"],setup(n,{emit:g}){const e={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let t=null,r,c;y(()=>n.scrollTarget,()=>{i(),d()});function l(){t==null||t();const s=Math.max(0,R(r)),f=M(r),a={top:s-e.position.top,left:f-e.position.left};if(n.axis==="vertical"&&a.top===0||n.axis==="horizontal"&&a.left===0)return;const m=Math.abs(a.top)>=Math.abs(a.left)?a.top<0?"up":"down":a.left<0?"left":"right";e.position={top:s,left:f},e.directionChanged=e.direction!==m,e.delta=a,e.directionChanged===!0&&(e.direction=m,e.inflectionPoint=e.position),g("scroll",{...e})}function d(){r=H(c,n.scrollTarget),r.addEventListener("scroll",o,x),o(!0)}function i(){r!==void 0&&(r.removeEventListener("scroll",o,x),r=void 0)}function o(s){if(s===!0||n.debounce===0||n.debounce==="0")l();else if(t===null){const[f,a]=n.debounce?[setTimeout(l,n.debounce),clearTimeout]:[requestAnimationFrame(l),cancelAnimationFrame];t=()=>{a(f),t=null}}}const{proxy:u}=T();return y(()=>u.$q.lang.rtl,l),v(()=>{c=u.$el.parentNode,d()}),b(()=>{t==null||t(),i()}),Object.assign(u,{trigger:o,getPosition:()=>e}),w}});export{D as Q,N as a};
