import{j as ct,a2 as lt,E as G,W as ht,F as dt,M as ut,p as ft,o as mt,m as pt,bQ as vt}from"./index-Ck4zLN3I.js";import{_ as gt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Mt={s:["=","40"],l:["=","68"]},wt={hex:"#ffffff"},kt={h:["=","0"],link:"$settings",luminance:"65"},xt={h:["=","180"],link:"$settings",luminance:"65"},$t={h:["=","230"],link:"$settings",luminance:"65"},yt={h:["=","30"],link:"$settings",luminance:"65"},Xt={h:["=","55"],link:"$settings",luminance:"65"},Yt={$settings:Mt,variation0:wt,variation1:kt,variation2:xt,variation3:$t,variation4:yt,variation5:Xt},Tt={s:["=","90"],l:["=","35"]},_t={hex:"#000000"},Ct={h:["=","0"],link:"$settings",luminance:"20"},Ft={h:["=","180"],link:"$settings",luminance:"20"},bt={h:["=","230"],link:"$settings",luminance:"20"},qt={h:["=","30"],link:"$settings",luminance:"20"},Pt={h:["=","55"],link:"$settings",luminance:"20"},At={$settings:Tt,variation0:_t,variation1:Ct,variation2:Ft,variation3:bt,variation4:qt,variation5:Pt},Et=1/60-.001,Y=150,Lt=1/350,Rt=ct({__name:"ParticlesBackground",setup(zt){const R=lt(),s=G(null),x=G(null),k=[];let l=null,h=null;const m={},$=[];let T={},_=-1e3,C=-1e3,F=!1,z=performance.now(),b=performance.now(),v,g;const B=()=>{var o,r,c,a,f;const e=(r=(o=s.value)==null?void 0:o.width)!=null?r:0,n=(a=(c=s.value)==null?void 0:c.height)!=null?a:0,M=Math.sqrt(e*n)*3.5;v=e/2,g=n/1.3,k.length=0;const i=[2,4,1,2,2].map((p=>w=>p+=w)(0)),d=Math.sqrt(v**2+g**2),u=0;for(let p=0;p<M;p++){const w=Math.random()*i[i.length-1],D=i.findIndex(rt=>w<rt),J=Math.max(Math.random()/3,.1),O=Math.random()*6.2832,Q=u+Math.sqrt(Math.random())*(d-u),y=v+Q*Math.cos(O),X=g+Q*Math.sin(O),E=Math.sqrt((y-v)**2+(X-g)**2),K=E<u,Z=E>d*1.5;if(K||Z)continue;const L=Math.random()*10,tt=Math.random()*2+1,et=150-L,at=(20-L*2)/40,nt=Math.random(),ot=Math.random(),st=Math.atan2(X-g,y-v),it=(f=T[`variation${D}`])!=null?f:"#fff";k.push({x:y,y:X,z:L,size:tt,color:it,speedX:0,speedY:0,originalX:y,originalY:X,alpha:nt,alphaTarget:ot,theta:st,centerRadius:E,omega:Lt,threshold:et,speedOffset:at,variation:D,alphaSpeed:J})}},S=()=>{let e;R.dark.isActive?e=Yt:e=At,T=vt(e,[0,0,0])},N=()=>{var e;for(const n of k)n.color=(e=T[`variation${n.variation}`])!=null?e:"#fff"};ht(()=>R.dark.isActive,()=>{S(),N()});const q=()=>{var u,o,r,c;for(const a in m)m[a].length=0;$.length=0;const e=(o=(u=s.value)==null?void 0:u.width)!=null?o:0,n=(c=(r=s.value)==null?void 0:r.height)!=null?c:0,M=-5,t=e+5,i=-5,d=n+5;for(const a of k)if(a.originalX-a.x||a.originalY-a.y||a.x>=M&&a.x<=t&&a.y>=i&&a.y<=d){const f=`${Math.floor(a.x/Y)},${Math.floor(a.y/Y)}`;m[f]=m[f]||[],m[f].push(a),$.push(a)}},U=e=>{if(!l||!s.value)return;const n=Math.min((e-z)/1e3,.03);if(z=e,l.clearRect(-5,-5,s.value.width+5,s.value.height+5),F){const t=Math.min((e-b)/1e3,.06);if(t>=Et){b=e;const i=Math.floor(_/Y),d=Math.floor(C/Y),u=[];for(let o=-1;o<=1;o++)for(let r=-1;r<=1;r++){const c=`${i+o},${d+r}`;m[c]&&u.push(...m[c])}for(const o of u){const r=_-o.x,c=C-o.y,a=r*r+c*c;if(a<o.threshold*o.threshold){const f=Math.sqrt(a),p=Math.atan2(c,r),w=((o.threshold-f)/100+o.speedOffset)*3500*t;o.speedX+=Math.cos(p+Math.PI)*w,o.speedY+=Math.sin(p+Math.PI)*w}}F=!1}}else b=e;const M=Math.pow(.94,60*n);l.lineCap="round";for(const t of $){t.x+=t.speedX*n,t.y+=t.speedY*n,(t.speedX||t.speedY)&&(t.speedX*=M,t.speedY*=M);const i=t.alphaSpeed;t.alpha<t.alphaTarget?t.alpha=Math.min(t.alpha+i*n,t.alphaTarget):t.alpha>t.alphaTarget&&(t.alpha=Math.max(t.alpha-i*n,t.alphaTarget)),Math.abs(t.alpha-t.alphaTarget)<.01&&(t.alphaTarget>0?t.alphaTarget=0:(t.x=t.originalX,t.y=t.originalY,t.speedX=0,t.speedY=0,t.alphaTarget=Math.random()*.4+.6))}for(const t of k){t.theta+=t.omega*n;const i=v+t.centerRadius*Math.cos(t.theta),d=g+t.centerRadius*Math.sin(t.theta);Math.abs(t.x-t.originalX)<.1&&Math.abs(t.y-t.originalY)<.1?(t.x=t.originalX=i,t.y=t.originalY=d):(t.originalX=i,t.originalY=d)}q();for(const t of $)l.globalAlpha=t.alpha,l.strokeStyle=t.color,l.lineWidth=t.size*1.5,l.beginPath(),l.moveTo(t.x,t.y),l.lineTo(t.x,t.y),l.stroke()},I=e=>{if(!s.value)return;const n=s.value.getBoundingClientRect();_=e.clientX-n.left,C=e.clientY-n.top,F=!0},W=()=>{s.value&&x.value&&(s.value.width=x.value.offsetWidth,s.value.height=x.value.offsetHeight)},P=e=>{U(e),h=requestAnimationFrame(P)},H=()=>{h&&cancelAnimationFrame(h)},j=()=>{h&&cancelAnimationFrame(h),h=requestAnimationFrame(P)};let A=null;const V=()=>{A&&clearTimeout(A),A=setTimeout(()=>{W(),B(),q()},500)};return dt(()=>{s.value&&(l=s.value.getContext("2d"),W(),S(),B(),q(),h=requestAnimationFrame(P)),window.addEventListener("mousemove",I,{passive:!0}),window.addEventListener("resize",V,{passive:!0}),window.addEventListener("focus",j,{passive:!0}),window.addEventListener("blur",H,{passive:!0})}),ut(()=>{h&&cancelAnimationFrame(h),window.removeEventListener("mousemove",I),window.removeEventListener("focus",j),window.removeEventListener("blur",H)}),(e,n)=>(mt(),ft("div",{class:"particle-background",ref_key:"container",ref:x},[pt("canvas",{ref_key:"canvas",ref:s},null,512)],512))}}),It=gt(Rt,[["__scopeId","data-v-113dd957"]]);export{It as default};
