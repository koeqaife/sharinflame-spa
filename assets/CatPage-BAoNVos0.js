import{Q as Je}from"./QPage-DzToCAIV.js";import{j as Ke,E as Be,F as Ze,M as $e,k as ze,o as xe,w as et,m as De}from"./index-CW-_h3H6.js";const tt=.1,nt=.35,Ce=.86,Fe=4,Ye=.04,at=.5,Le=1,ot=40,lt=.25,it=.001,ft=Ke({__name:"CatPage",setup(st){let w=null;const _=Be(null),s=Be(null);let r=200,u=200,N=200,Q=200,p=!1,U=null,le=performance.now(),D=.6,g=.6,M=.6,C=!1,E=0,W=Math.random()*4e3+2e3,ie=0,T=!1,j=0,G=0,J=0,K=0,se=0,re=0,H=!1,h=null,f=null,y=0,X=0,Z=-.2,$=.2,z=-.2,x=.2,O=0,i=0;function he(t){return t*t}function fe(){p=!0}function Re(){p=!1}function ee(t){if(!s.value)return;const a=s.value.getBoundingClientRect();r=t.clientX-a.left,u=t.clientY-a.top,T=!1}function _e(){p=!1;const t=s.value.width/2,a=s.value.height/2;r=t,u=a,T=!0}function We(t){if(!s.value)return;const a=s.value.getBoundingClientRect();t.touches.length>0&&(r=t.touches[0].clientX-a.left,u=t.touches[0].clientY-a.top),T=!1}function He(t,a,n,e){e.fillStyle="#444",e.beginPath(),e.ellipse(t,a,n*2.05,n*1.9,0,0,Math.PI*2),e.fill()}function ue(t,a,n,e,l,o=0){t.save(),t.translate(a,n),t.rotate(l+o),t.fillStyle="#444",t.beginPath(),t.moveTo(-e*1,-e*.05),t.lineTo(0,-e*2),t.lineTo(e*1,-e*.05),t.closePath(),t.fill(),t.fillStyle="#eecccc",e*=.7,t.beginPath(),t.moveTo(-e*1,-e*.05),t.lineTo(0,-e*2),t.lineTo(e*1,-e*.05),t.closePath(),t.fill(),t.restore()}function ce(t,a,n,e,l=.6,o=0){e.save(),e.translate(t,a),e.rotate(o);const m=r-t,d=u-a,v=Math.sqrt(m*m+d*d);e.beginPath(),e.ellipse(0,0,n*.9,n*l*Math.min(i**2,1),0,0,Math.PI*2),e.clip(),e.fillStyle="#7ddb65",e.fill();const b=n*.25,I=v>b?b/v:1,k=n*D,P=n*.5;let F=m*I,Y=d*I;return(i>=2||T)&&(F=0,Y=0),e.fillStyle="black",e.beginPath(),e.ellipse(F,Y,k,P,0,0,Math.PI*2),e.fill(),e.restore(),v}function me(t,a,n,e,l){if(i>.5)return;const o=(.5-i)/.5,m=n/2*o;l.strokeStyle="white",l.lineWidth=2,e?(l.beginPath(),l.moveTo(t+n,a),l.lineTo(t-n,a-m),l.stroke(),l.beginPath(),l.moveTo(t+n,a),l.lineTo(t-n,a+m),l.stroke()):(l.beginPath(),l.moveTo(t-n,a),l.lineTo(t+n,a-m),l.stroke(),l.beginPath(),l.moveTo(t-n,a),l.lineTo(t+n,a+m),l.stroke())}function Oe(t,a,n,e){e.fillStyle="#ff9999",e.beginPath(),e.moveTo(t-n/2,a),e.lineTo(t+n/2,a),e.lineTo(t,a+n/2),e.closePath(),e.fill()}function qe(t,a,n,e,l=0,o=0){e.strokeStyle="#ccc",e.lineWidth=1.5;const m=n*1.4;for(let d=-1;d<=1;d++){const v=d*10;e.save();const b=t-n;e.translate(b,a+v);const I=-.2+d*.05+l;e.rotate(I),e.beginPath(),e.moveTo(0,0),e.lineTo(-m,d*10-30),e.stroke(),e.restore(),e.save();const k=t+n;e.translate(k,a+v);const P=.2+d*-.05+o;e.rotate(P),e.beginPath(),e.moveTo(0,0),e.lineTo(m,d*10-30),e.stroke(),e.restore()}}function Ve(t,a,n,e){e.strokeStyle="#e0e0e0",e.lineWidth=2,e.beginPath(),e.arc(t-n/2,a+n/2,n/2,0,Math.PI/2,!1),e.stroke(),e.beginPath(),e.arc(t+n/2,a+n/2,n/2,Math.PI/2,Math.PI,!1),e.stroke(),e.beginPath(),e.arc(t+n/2,a+n/2,n/2,0,Math.PI/2,!1),e.stroke(),e.beginPath(),e.arc(t-n/2,a+n/2,n/2,Math.PI/2,Math.PI,!1),e.stroke()}function Ne(t,a){t.clearRect(0,0,s.value.width,s.value.height);const n=Math.min(a-le,100);le=a;const e=s.value.width/2,l=s.value.height/2;(h===null||f===null)&&(h=e,f=l);const o=75,m=h-o,d=h+o,v=f-o-5,b=r-h,I=u-f,k=Math.hypot(b,I),P=o*1.6,F=Math.hypot(r-m,u-v),Y=Math.hypot(r-d,u-v),A=r-N,B=u-Q,Ue=Math.hypot(A,B);if(H&&p){const c=Math.hypot(r-h,u-f)<o*1.1,q=!c&&(F<P||Y<P)?lt:1,V=Math.max(0,Math.min(1,(Ue-Le)/(ot-Le))),S=it*(c?1:.5),R=Math.max(V,S),Ae=nt*R*q;y+=A*Ae*(n/16.67),X+=B*Ae*(n/16.67)}y*=Math.pow(Ce,n/16.67),X*=Math.pow(Ce,n/16.67);const ve=Math.hypot(y,X);if(ve>Fe){const c=Fe/ve;y*=c,X*=c}h+=y*(n/16.67),f+=X*(n/16.67);const pe=e-h,we=l-f,je=Math.hypot(pe,we);!H&&je>at&&(y+=pe*Ye*(n/16.67),X+=we*Ye*(n/16.67)),p&&F<P?J=-.75+Math.max(-1,Math.min(1,(r-m)/(o*1.5)))*.25+A/120+B/400:(se+=n,J=-.4+Math.sin(se/600)*.03),p&&Y<P?K=.75-Math.max(-1,Math.min(1,(r-d)/(o*1.5)))*-.25+A/120+B/400:(re+=n,K=.4+Math.sin(re/700)*.03);const Te=.18*(n/16.67);j+=(J-j)*Te,G+=(K-G)*Te;const Pe=f+o*.7,ke=h-o,Se=h+o,Ee=o*1.1;p&&Math.hypot(r-ke,u-Pe)<Ee?z=-.3+Math.max(-1,Math.min(1,(r-ke)/(o*1.3)))*.45+A/200+B/500:(O+=n,z=-.2+Math.sin(O/800)*.05),p&&Math.hypot(r-Se,u-Pe)<Ee?x=.3+Math.max(-1,Math.min(1,(r-Se)/(o*1.3)))*.45+A/200+B/500:(O+=n,x=.2+Math.sin(O/900)*.05);const ye=.12*(n/16.67);Z+=(z-Z)*ye,$+=(x-$)*ye,ue(t,m,v,o*.9,0,Math.max(Math.min(j,-.35),-1.5)),ue(t,d,v,o*.9,0,Math.max(Math.min(G,1.5),.35)),He(h,f,o,t),Oe(h,f+15,25,t),Ve(h,f+35,40,t),qe(h,f+o*.7,o,t,Z,$);let ae;if(k<o*2.2&&!T||i>=2?ae=.6:ae=.1,i>=.5){D+=(ae-D)*tt*(n/16.67),D=Math.min(Math.max(D,.1),.5);let c=!1,L=!1;const q=ce(h-53,f-28,39,t,g,.07),oe=ce(h+53,f-28,39,t,M,-.07),V=.05;if(q<60&&!T){const S=.1+q/60*.3,R=g-S;g-=he(R*V*n),g=Math.max(S,g),c=!0}if(oe<60&&!T){const S=.1+oe/60*.3,R=M-S;M-=he(R*V*n),M=Math.max(S,M),L=!0}C?(E+=n,c||(g=Math.max(0,.6-E/200*.5),c=!0),L||(M=Math.max(0,.6-E/200*.5),L=!0),E>=250&&(C=!1,E=0,W=Math.random()*4e3+2e3)):(W-=n,W<=0&&(C=!0,E=0)),!c&&g<.6&&(g+=(.6-g)*.2*(n/16.67),g=Math.min(g,.6)),!L&&M<.6&&(M+=(.6-M)*.2*(n/16.67),M=Math.min(M,.6))}else i<.5&&(me(h-53,f-28,30,!0,t),me(h+53,f-28,30,!1,t));const Xe=r-N,be=u-Q,Ie=Math.sqrt(Xe*Xe+be*be);N=r,Q=u;const Ge=a-ie;Ie!=0&&p&&k<o*3&&u<f-20||Ge<500?(i+=(0-i)*.1*(n/16.67),i=Math.max(i,0),H=!0,Ie!=0&&p&&k<o*3&&u<f-20&&(ie=a)):(H=!1,i<2&&i<1.98&&(i+=(2-i)*(i<1?.05:.001)*(n/16.67),i=Math.min(i,1.98)),i>=1.98&&i<2&&C&&(i=1.99),i==1.99&&!C&&(i=2))}const de=()=>{if(s.value&&_.value){s.value.width=_.value.offsetWidth,s.value.height=_.value.offsetHeight;const t=s.value.width/2,a=s.value.height/2;r=t,u=a,T=!0}},te=t=>{U&&Ne(U,t),w=requestAnimationFrame(te)},ge=()=>{w&&cancelAnimationFrame(w)},Me=()=>{w&&cancelAnimationFrame(w),W=Math.random()*4e3+2e3,w=requestAnimationFrame(te)};let ne=null;const Qe=()=>{ne&&clearTimeout(ne),ne=setTimeout(()=>{de()},500)};return Ze(()=>{s.value&&(U=s.value.getContext("2d"),de(),w=requestAnimationFrame(te)),window.addEventListener("mousemove",ee,{passive:!0}),window.addEventListener("resize",Qe,{passive:!0}),window.addEventListener("focus",Me,{passive:!0}),window.addEventListener("blur",ge,{passive:!0})}),$e(()=>{w&&cancelAnimationFrame(w),window.removeEventListener("mousemove",ee),window.removeEventListener("focus",Me),window.removeEventListener("blur",ge)}),(t,a)=>(xe(),ze(Je,{class:"app-page"},{default:et(()=>[De("div",{class:"wrapper",ref_key:"container",ref:_},[De("canvas",{ref_key:"canvasRef",ref:s,onMousemove:ee,onMousedown:fe,onMouseup:Re,onTouchstartPassive:fe,onTouchendPassive:_e,onTouchmovePassive:We},null,544)],512)]),_:1}))}});export{ft as default};
