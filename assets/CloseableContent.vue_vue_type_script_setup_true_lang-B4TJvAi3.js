import{j as x,E as L,p as P,o as W,v as I}from"./index-CFDL-CVp.js";const k=100,$=x({__name:"CloseableContent",emits:["hide"],setup(A,{emit:E}){const T=E;let a=0,c=0,u=0,f=0,h=0,d=0,m=!1,i=!1,n=!1,o=!1;const s=L(null);function p(e,t,l){return l!==0?l>0?e.scrollLeft!==0:e.scrollLeft+e.clientWidth<e.scrollWidth:t!==0?t>0?e.scrollTop!==0:e.scrollTop+e.clientHeight<e.scrollHeight:!1}function M(e,t,l){let r=e;for(;r;){const Y=window.getComputedStyle(r),v=Y.overflowY,w=Y.overflowX,C=(v==="auto"||v==="scroll")&&r.scrollHeight>r.clientHeight,D=(w==="auto"||w==="scroll")&&r.scrollWidth>r.clientWidth;if(C&&p(r,t,0)||D&&p(r,0,l))return!0;r=r.parentElement}return!1}function X(e){let t=e;for(;t;){if(t.getAttribute("data-is-carousel")!==null)return!0;t=t.parentElement}return!1}function g(e,t,l){return!!(!(e instanceof HTMLElement)||M(e,l,t)||Math.abs(t)>0&&X(e))}const _=e=>{u=e.touches[0].clientX,f=e.touches[0].clientY,i=!1,n=!1,o=!1,m=!0},S=()=>{const e=c-u,t=a-f;return n&&o?0:o?e:n?t:Math.max(e,t)},b=()=>n&&o?0:o?h:n?d:Math.max(h,d),y=e=>{if(!m)return;h=e.touches[0].clientX-c,d=e.touches[0].clientY-a,c=e.touches[0].clientX,a=e.touches[0].clientY;const t=c-u,l=a-f;e.target instanceof HTMLInputElement&&e.target.type==="range"&&(n=!0,o=!0),(Math.abs(l)>100&&!o||t>l&&g(e.target,t,0))&&(n=!0),(Math.abs(t)>100&&!n||l>t&&g(e.target,0,l))&&(o=!0);const r=S();r>25||i?(i=!0,s.value&&(s.value.style.transform=`translateY(${Math.max(r,0)}px)`)):s.value&&(s.value.style.transform="translateY(0)")},H=()=>{m=!1,i&&S()>k&&b()>0?T("hide"):s.value&&(s.value.style.transform="translateY(0)")};return(e,t)=>(W(),P("div",{class:"dialog-content",ref_key:"dialogContent",ref:s,style:{"touch-action":"none"},onTouchstartPassive:_,onTouchmovePassive:y,onTouchendPassive:H},[I(e.$slots,"default")],544))}});export{$ as _};
