import{j as $,D as w,h as x,p as r,o as t,G as p,I as B,O as D,k as c,q as S,w as _,m as s,l as m,H as l,R as N}from"./index-CFDL-CVp.js";import{C as P}from"./ClosePopup-jbb-qhvq.js";import{u as V}from"./profile-store-3JWJIDcz.js";import{_ as u}from"./MyItem.vue_vue_type_script_setup_true_lang-BiqkFfnH.js";import{a as y}from"./MyButton.vue_vue_type_script_setup_true_lang-BrbV-gT4.js";import{f as g}from"./format-CB8cfGO0.js";const z={role:"list",style:{"min-width":"230px"}},I={class:"horizontal-container"},M={class:"text"},j={class:"horizontal-container"},q={class:"container label-container"},E={class:"text"},F={class:"description"},U=$({__name:"PostMoreMenu",props:{post:{}},emits:["action"],setup(f,{emit:v}){const n=V(),k=w(),b=v,i=f,h=x(()=>{var o,a;return[{key:"edit",icon:"edit",visible:i.post.user_id==((o=n.profile)==null?void 0:o.user_id),disable:!(Date.now()/1e3-i.post.created_at<86400),type:"item"},{key:"delete",icon:"delete_forever",visible:i.post.user_id==((a=n.profile)==null?void 0:a.user_id),type:"item"},{key:"report",icon:"report",visible:!0,type:"item"},{type:"separator",visible:!0},{key:"copy_id",icon:"content_copy",visible:!0,type:"item",data:i.post.post_id},{type:"label",key:"created_at",visible:!0,icon:"access_time",description:g(i.post.created_at,k.locale.value)}]});return(o,a)=>(t(),r("div",z,[(t(!0),r(p,null,B(h.value,(e,C)=>{var d;return t(),r(p,{key:C},[e.visible&&e.type==="item"?D((t(),c(u,{key:0,disable:(d=e.disable)!=null?d:!1,clickable:!0,onClick:G=>b("action",e.key,e.data)},{default:_(()=>[s("div",I,[m(y,{icon:e.icon,class:"icon"},null,8,["icon"]),s("div",M,l(o.$t(`post_options.${e.key}`)),1)])]),_:2},1032,["disable","onClick"])),[[P]]):e.visible&&e.type==="separator"?(t(),c(N,{key:1,class:"separator"})):e.visible&&e.type==="label"?(t(),c(u,{key:2},{default:_(()=>[s("div",j,[m(y,{icon:e.icon,class:"icon"},null,8,["icon"]),s("div",q,[s("div",E,l(o.$t(`comment_options.${e.key}`)),1),s("div",F,l(e.description),1)])])]),_:2},1024)):S("",!0)],64)}),128))]))}});export{U as default};
