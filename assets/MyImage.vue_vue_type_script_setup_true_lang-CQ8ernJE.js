const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MySpinner-D_B2jYDU.js","assets/index-CFDL-CVp.js","assets/index-CIwtCw06.css"])))=>i.map(i=>d[i]);
import{j as f,E as i,F as _,M as v,p as a,o as l,m,q as p,l as g,s as h,t as y,_ as w}from"./index-CFDL-CVp.js";const k={class:"my-image"},E=["src"],V={key:0,class:"loading"},N=f({__name:"MyImage",props:{src:{}},setup(b){const r=y(()=>w(()=>import("./MySpinner-D_B2jYDU.js"),__vite__mapDeps([0,1,2]))),e=i(null),n=i(null);let o=null;function c(){n.value=!1}function u(){n.value=!1}return _(()=>{(()=>{if(!e.value)return!1;const t=e.value.getBoundingClientRect();return t.top<window.innerHeight&&t.bottom>0&&t.left<window.innerWidth&&t.right>0})()?n.value=!0:(o=new IntersectionObserver(t=>{t.forEach(d=>{d.isIntersecting&&e.value&&(n.value==null&&(n.value=!0),o==null||o.disconnect())})},{threshold:.01}),e.value&&o.observe(e.value))}),v(()=>{o&&o.disconnect(),n.value&&e.value&&(e.value.style.visibility="hidden",e.value.src="")}),(s,t)=>(l(),a("div",k,[m("img",{src:s.src,loading:"lazy",ref_key:"imgRef",ref:e,onLoad:c,onError:u},null,40,E),n.value?(l(),a("div",V,[g(h(r),{size:"50px"})])):p("",!0)]))}});export{N as _};
