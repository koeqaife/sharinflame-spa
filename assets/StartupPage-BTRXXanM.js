const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MiscLayout-CdmcYAjg.js","assets/index-atiAgRsb.js","assets/index-DI-gpe9-.css","assets/QSpace-DXpigZME.js","assets/QLayout-CRySR-a1.js","assets/QScrollObserver-CIwuO6ti.js","assets/LogoComponent.vue_vue_type_script_setup_true_lang-DqF7XI-C.js","assets/MyButton.vue_vue_type_script_setup_true_lang-Ce7HBHdZ.js"])))=>i.map(i=>d[i]);
import{j as d,u as g,E as h,F as S,aF as k,ae as v,aG as w,aa as y,M as I,k as P,q as r,o as n,w as l,s as c,t as b,aH as a,l as u,m as B,p as E,H as T,_ as A}from"./index-atiAgRsb.js";import{Q as C}from"./QPage-CttZFJjC.js";import{_ as M}from"./LogoComponent.vue_vue_type_script_setup_true_lang-DqF7XI-C.js";import{u as V}from"./profile-store-C6AA8iX5.js";const x={class:"loading-container"},z={key:0,class:"label"},U=d({__name:"StartupPage",setup(L){const m=V(),t=g(),f=b(()=>A(()=>import("./MiscLayout-CdmcYAjg.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),s=h(!1);let o=null;const i=()=>{t.initialized=1,a.push({path:"/login"})},p=()=>{t.initialized=2,a.push({path:"/app"})},_=()=>{t.initialized=3,a.push({path:"/info"})};return S(async()=>{if(o=setTimeout(()=>{s.value=!0},250),!localStorage.getItem("build_num")&&localStorage.getItem("first_start")&&localStorage.clear(),localStorage.setItem("build_num","1"),!localStorage.getItem("first_start"))_();else if(k())try{await m.getProfile(),v.connect(w),p()}catch(e){if(y(e)&&e.status==401)i();else throw e}else i()}),I(()=>{o&&clearTimeout(o)}),(e,N)=>s.value?(n(),P(c(f),{key:0,"in-router":!1,"show-dark-mode-toggle":!0},{default:l(()=>[u(C,{class:"startup-page"},{default:l(()=>[B("div",x,[u(M,{"icon-class":"logo pulse-animation"}),c(t).connectTries>5?(n(),E("div",z,T(e.$t("connecting"))+"...",1)):r("",!0)])]),_:1})]),_:1})):r("",!0)}});export{U as default};
