const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NotificationCard-BqitY0VI.js","assets/NotificationCard.vue_vue_type_script_setup_true_lang-siNynd3G.js","assets/index-Ck4zLN3I.js","assets/index-CxWikQNB.css","assets/MyButton.vue_vue_type_script_setup_true_lang-nTcsNPgd.js","assets/RectSkeleton-DSWjuNhw.js","assets/RectSkeleton.vue_vue_type_script_setup_true_lang-MIOZg4_m.js"])))=>i.map(i=>d[i]);
import{j as C,u as w,E as f,W as B,F as P,ag as S,p as n,o as i,m as V,q as m,G as u,I as _,l as g,H as x,w as A,k as D,s as p,t as v,bP as I,_ as h}from"./index-Ck4zLN3I.js";import{t as k}from"./format-DFL9WMHh.js";const O={class:"notifications"},R={class:"notifications-container"},F={key:0,class:"loading container"},G={key:0,class:"no-notifications"},j=C({__name:"NotificationsList",emits:["onLoaded"],setup(M,{emit:L}){const s=w(),N=v(()=>h(()=>import("./NotificationCard-BqitY0VI.js"),__vite__mapDeps([0,1,2,3,4]))),y=v(()=>h(()=>import("./RectSkeleton-DSWjuNhw.js"),__vite__mapDeps([5,6,2,3]))),E=L,a=f([]),c=f(!0),r=f(!1);let d=null;return B(s.lastNotifications,e=>{a.value=e.map(t=>{var l;const o=a.value.find(T=>t.id===T.id);return o||(t.message&&(t.message=k(t.message,32)),(l=t.loaded)!=null&&l.content&&(t.loaded.content=k(t.loaded.content,32)),t)}),e.length>0&&(c.value=!1,r.value=!1)},{immediate:!0}),P(()=>{d=setTimeout(()=>{r.value=!0},150),s.lastNotifications.length===0&&S(void 0,5).then(e=>{d&&clearTimeout(d),e.data.success&&e.data.data.notifications.reverse().forEach(t=>{s.addNotification(t)})})}),(e,t)=>(i(),n("div",O,[V("div",R,[c.value&&r.value?(i(),n("div",F,[(i(),n(u,null,_(5,o=>g(p(y),{key:o,class:"notification-skeleton",height:"60px"})),64))])):c.value?m("",!0):(i(),n(u,{key:1},[a.value.length===0?(i(),n("div",G,x(e.$t("notifications.no_notifications")),1)):m("",!0),g(I,{name:"notification",tag:"div",class:"container"},{default:A(()=>[(i(!0),n(u,null,_(a.value,o=>(i(),D(p(N),{key:o.id,notif:o,onOnLoaded:t[0]||(t[0]=l=>E("onLoaded"))},null,8,["notif"]))),128))]),_:1})],64))])]))}});export{j as default};
