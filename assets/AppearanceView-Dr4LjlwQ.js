import{Q as D}from"./QScrollArea-Dq0GnGzl.js";import{j as H,aK as F,aL as I,p as S,o as c,G as N,I as R,k as h,a4 as O,n as P,a2 as x,u as G,E as u,aD as J,W as g,F as W,M as X,w as Y,m as s,q as Z,l as p,H as E,aJ as b,aO as ee,aP as te}from"./index-Do0CBbdm.js";import{_ as T,a as z}from"./MyButton.vue_vue_type_script_setup_true_lang-0geFim1q.js";import{_ as ae}from"./ToggleCard.vue_vue_type_script_setup_true_lang-fQ5wt4Ac.js";import"./QScrollObserver-VymQKE2s.js";import"./QSpace-DJsL9YqM.js";import"./MySwitch.vue_vue_type_script_setup_true_lang-CY9i4bjZ.js";const oe={class:"segmented-button"},A=H({__name:"MySegmentBtn",props:F({items:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(L){const o=I(L,"modelValue"),n=d=>o.value=d.key;return(d,C)=>(c(),S("div",oe,[(c(!0),S(N,null,R(d.items,a=>{var i;return c(),h(T,{key:a.key,label:(i=a.label)!=null?i:d.$t(a.labelKey),class:P(["button",{selected:a.key===o.value}]),type:"card","is-category":!0,icon:a.iconLeft,"icon-right":a.iconRight,onClick:O(v=>n(a),["stop"])},null,8,["label","class","icon","icon-right","onClick"])}),128))]))}}),ne={class:"container"},se={class:"card container"},le={class:"horizontal-container"},re={class:"label"},ie={class:"theme-container horizontal-container"},ue={class:"card container"},ce={class:"horizontal-container"},de={class:"label"},me={class:"horizontal-container colors-container"},_e=H({__name:"AppearanceView",setup(L){const o=x(),n=G(),d=u([{labelKey:"dark",iconLeft:"dark_mode",key:"dark"},{labelKey:"light",iconLeft:"light_mode",key:"light"},{labelKey:"auto",iconLeft:"sync",key:"auto"}]),C=u([{labelKey:"default",iconLeft:"star",key:"default"},{labelKey:"mono",iconLeft:"filter_b_and_w",key:"monochrome"},{labelKey:"contrast",iconLeft:"contrast",key:"contrast"}]),a=u(""),i=u(""),v=u(n.getSetting("currentTheme")),k=u(n.getSetting("starBackground")),V=[8,45,120,150,180,230,320],y=u([]),_=J({dark:"",light:""}),$={dark:{},light:{}},M=u(""),l=u(null);function U(){y.value.length=0,V.forEach(e=>{y.value.push(ee([e,0,0],"primary",o.dark.isActive))})}function q(){var r;const t=o.dark.isActive?"dark":"light";if(_[t].length===0){const m=te([0,0,0],"primary",5,o.dark.isActive),K=`linear-gradient(to right, ${m.join(", ")})`;for(let f=0;f<=360;f+=5)$[t][f]=(r=m[Math.floor(f/5)])!=null?r:"#000";_[t]=K}M.value=_[t]}g(k,e=>{n.setSettings("starBackground",e)}),g(i,e=>{e!==o.dark.mode&&(e=="auto"?o.dark.set(e):o.dark.set(e=="dark"))}),g(v,e=>{document.body.classList.add("no-animate"),n.updateColor(!1,void 0,!0,e),setTimeout(()=>{document.body.classList.remove("no-animate")},1)}),g(()=>o.dark.mode,e=>{e=="auto"?i.value="auto":e===!0?i.value="dark":i.value="light",q(),U()},{immediate:!0});function Q(e){document.body.classList.add("no-animate"),n.updateColor(!1,V[e],!0),l.value.value=String(n.getSetting("themeHue")),setTimeout(()=>{document.body.classList.remove("no-animate")},1)}function B(){document.body.classList.add("no-animate"),n.updateColor(!1,Number(l.value.value),!0),a.value="",l.value.value=String(n.getSetting("themeHue")),setTimeout(()=>{document.body.classList.remove("no-animate")},1)}function j(e,t){return Math.floor(e/t)*t}function w(){const e=Number(l.value.value),t=j(e,5);a.value=$[o.dark.isActive?"dark":"light"][t]||a.value}return W(()=>{var e,t;(e=l.value)==null||e.addEventListener("change",B,{passive:!0}),(t=l.value)==null||t.addEventListener("input",w,{passive:!0}),l.value.value=String(n.getSetting("themeHue"))}),X(()=>{var e,t;(e=l.value)==null||e.removeEventListener("change",B),(t=l.value)==null||t.removeEventListener("input",w),document.body.classList.remove("no-animate")}),(e,t)=>(c(),h(D,{class:"scroll-area fix-scroll-area full-height appearance-view"},{default:Y(()=>[s("div",ne,[s("div",se,[s("div",le,[p(z,{class:"label-icon",icon:"dark_mode"}),s("div",re,E(e.$t("theme")),1)]),s("div",ie,[p(A,{items:d.value,modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=r=>i.value=r)},null,8,["items","modelValue"]),p(A,{items:C.value,modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=r=>v.value=r)},null,8,["items","modelValue"])])]),s("div",ue,[s("div",ce,[p(z,{class:"label-icon",icon:"palette"}),s("div",de,E(e.$t("color")),1)]),s("div",{class:"slider-container",style:b({"--current-color":a.value})},[s("input",{type:"range",class:"hue-slider",min:"1",max:"360",style:b({background:M.value}),ref_key:"sliderRef",ref:l},null,4)],4),s("div",me,[(c(!0),S(N,null,R(y.value,(r,m)=>(c(),h(T,{key:m,type:"card",style:b({background:r}),class:"color-button",onClick:K=>Q(m)},null,8,["style","onClick"]))),128))])]),e.$q.platform.is.desktop?(c(),h(ae,{key:0,"label-key":"star_background_setting",icon:"stars",modelValue:k.value,"onUpdate:modelValue":t[2]||(t[2]=r=>k.value=r)},null,8,["modelValue"])):Z("",!0)])]),_:1}))}});export{_e as default};
