import{j as W,E as s,h as _,F as $,M as L,W as N,p as r,o as c,O as g,m as V,q as y,P as k,l as w,G as T,I as S,v as F,aJ as I,n as R}from"./index-Ck4zLN3I.js";import{_ as b}from"./MyButton.vue_vue_type_script_setup_true_lang-nTcsNPgd.js";const j={key:0,class:"pagination"},q=["onClick"],P=W({__name:"MyCarousel",props:{slides:{}},setup(x){const C=x,a=s(0),n=_(()=>C.slides.map((e,o)=>({index:o,data:e}))),i=s([0]),v=s(null),d=s(0),u=s(!1),m=s(0),t=s(0);function f(){d.value=v.value?v.value.clientWidth:window.innerWidth}$(()=>{f(),window.addEventListener("resize",f)}),L(()=>{window.removeEventListener("resize",f)}),N(a,()=>{t.value=0,i.value.push(a.value)});const M=_(()=>{const o=-a.value*d.value+(u.value,t.value),l=u.value?"none":"transform 0.3s ease";return{transform:`translateX(${Math.round(o)}px)`,transition:l}});function X(e){e.touches.length===1&&(u.value=!0,m.value=e.touches[0].clientX,t.value=0)}function E(e){if(!u.value||e.touches.length!==1)return;const o=e.touches[0].clientX;t.value=o-m.value,t.value>0?i.value.push(a.value-1):t.value<0&&i.value.push(a.value+1),Math.abs(t.value)>8&&e.cancelable&&e.preventDefault()}function p(){if(!u.value)return;u.value=!1;const e=Math.max(40,d.value*.2);t.value<=-e&&a.value<n.value.length-1?a.value++:t.value>=e&&a.value>0&&a.value--,t.value=0}function z(){a.value<n.value.length-1&&a.value++}function B(){a.value>0&&a.value--}function D(e){e<0||e>=n.value.length||(a.value=e)}return(e,o)=>(c(),r("div",{class:"my-carousel","data-is-carousel":"1",ref_key:"carouselRef",ref:v,onTouchstart:X,onTouchmove:E,onTouchend:p,onTouchcancel:p},[g(w(b,{class:"prev-btn",type:"flat",icon:"chevron_left",onClick:B},null,512),[[k,n.value[a.value-1]!==void 0]]),V("div",{class:"slides-container",style:I(M.value)},[(c(!0),r(T,null,S(n.value,l=>(c(),r("div",{key:l.index,class:"slide-element"},[i.value.includes(l.index)?F(e.$slots,"default",{key:0,data:l.data}):y("",!0)]))),128))],4),g(w(b,{class:"next-btn",type:"flat",icon:"chevron_right",onClick:z},null,512),[[k,n.value[a.value+1]!==void 0]]),n.value.length>1?(c(),r("div",j,[(c(!0),r(T,null,S(n.value,(l,h)=>(c(),r("span",{key:h,class:R(["dot",{active:h===a.value}]),onClick:G=>D(h)},null,10,q))),128))])):y("",!0)],544))}});export{P as default};
